@{
    ViewData["Title"] = "Index";
}

@section topCss{

<style>
    .lable {
        font-size: 25px;
    }

    .chb {
        font-size: 20px;
    }

    .table_line {
        border: 1px solid black;
    }

</style>
}

<div id="app" class="container">
    <b-navbar toggleable="lg" type="dark" variant="light d-flex justify-content-between">
        <b-navbar-brand href="#" class="fs-1 text-dark">會員管理</b-navbar-brand>
    </b-navbar>
    <div class="qq d-flex mb-5">
        <label class="lable d-flex align-items-center" for="">請選擇登入類型:</label>
        <div class="d-flex">
            <b-form-checkbox class="chb m-2 d-flex align-items-center" id="checkbox-1" v-model="selected"
                             name="checkbox-1" value="Google" unchecked-value="not_accepted">
                Google
            </b-form-checkbox>
            <b-form-checkbox class="chb m-2 d-flex align-items-center" id="checkbox-2" v-model="selected"
                             name="checkbox-2" value="Facebook" unchecked-value="not_accepted">
                Facebook
            </b-form-checkbox>
            <b-form-checkbox class="chb m-2 d-flex align-items-center" id="checkbox-3" v-model="selected"
                             name="checkbox-3" value="Line" unchecked-value="not_accepted">
                Line
            </b-form-checkbox>
        </div>
        <div class="mt-3">Selected: <strong>{{ selected }}</strong></div>
    </div>
    <div class="table_line">
        <b-table striped hover :items="memberList" :fields="fields"></b-table>
    </div>
</div>

@section endJS{
<script>
    let app = new Vue({
        el: '#app',
        data: {
            selected: [],//給你看到你勾選選項的value
            fields: ['memberId', 'accountName', 'nickName','balance','loginTypeName','createTime','email'],//可以放欄位名稱
            memberList:[]

        },
        mounted() {
            this.getAllMember()
        },
        methods: {
            getAllMember() {
                axios.get('/api/MemberApi/Index')
                .then((res) => {
                        this.memberList=res.data
                        console.log(this.memberList);
                        console.log(res.data);
                        console.log(res.data[0].loginTypeId);
                        console.log(res.data.loginTypeId)
                        //var loginType;
                        if (res.status==200){
                            this.memberList=res.data;

                            //for(int i =0;i<=res.data.length){
                            //    if(res.data[i].loginTypeId=1){
                            //        loginType='google';
                            //        this.memberList=res.data[i];
                            //    }
                            //    else if (res.data[i].loginTypeId=2){
                            //        loginType='Line';
                            //        this.memberList=res.data[i];
                            //    }
                            //    else
                            //    {
                            //        loginType='Facebook';
                            //        this.memberList=res.data[i];

                            //    }
                            //    console.log( loginType)

                            //}
                            //if(res.data.loginTypeId==1)
                        }
                        else{
                            alert('上傳不成功')
                        }
                    })

            }
        }

    })
</script>

    }


